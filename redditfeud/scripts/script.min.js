/*! redditfeud 21-11-2017 */

function init(){setContent(),getContent2()}function setContent(){for(answers=getContent(),i=0;i<answers.length;i++)items[i]=answers[i][0],points[i]=answers[i][1],guessed[i]=!1,document.getElementById("item"+(i+1)).innerHTML="?"}function textSubmit(a){"Enter"===event.key&&guess()}function guess(){for(input=document.getElementById("guess").value,i=0;i<items.length;i++)items[i]!==input||guessed[i]||(document.getElementById("item"+(i+1)).innerHTML=items[i],document.getElementById("points"+(i+1)).innerHTML=points[i],guessed[i]=!0,score+=points[i],document.getElementById("score").innerHTML=score);document.getElementById("guess").value=""}function getContent(){return TEST}function getContent2(){promise=fetchContent("sheep").then(function(a){STUFF=a.data.children,console.log(STUFF)},function(a){console.log(a)}),huh=[],huh.push(promise),Promise.all(huh).then(function(){picked=Math.floor(Math.random()*STUFF.length),alert(STUFF[picked].data.title)})}function fetchContent(a){return url="https://www.reddit.com/r/",url=url.concat(a,"/top.json?sort=top&t=month"),fetch(url).then(function(a){if(a.status>=400)throw new Error("Bad response in fetchContent");return a.json()})}var items=[],points=[],guessed=[],score=0,TEST=[["a",1],["b",2],["c",3],["d",4],["e",5],["f",6],["g",7],["h",8]],STUFF={};